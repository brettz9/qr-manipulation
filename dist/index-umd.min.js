!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).qrManipulation={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,r){switch(e(t)){case"object":if(!t)throw new TypeError("Cannot supply `null`");switch(t.nodeType){case 1:return t.outerHTML;case 3:return t.nodeValue;case 11:return n(t.childNodes).reduce((function(t,e){return t+a(e,r)}),"");case void 0:if("function"==typeof t.reduce)return t.reduce((function(t,e){return t+a(e,r)}),"")}return;case"string":return t;default:throw new TypeError("Bad content for "+r+"; type: "+e(t))}}function c(t,r,n){switch(e(t)){case"object":if(!t)throw new TypeError("Cannot supply `null`");if([1,3,11].includes(t.nodeType))return n?t:t.cloneNode(!0);if("function"!=typeof t.reduce)throw new TypeError("Unrecognized type of object for conversion to DOM");return n?t:t.map((function(t){return t&&t.cloneNode?t.cloneNode(!0):c(t,r,!1)}));case"string":var o=document.createElement("div");return o.innerHTML=t,o.firstElementChild||o.firstChild;default:throw new TypeError("Bad content for "+r+"; type: "+e(t))}}function s(t){return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=i[0];switch(e(s)){case"function":this.forEach((function(e,n){var o=s.call(r,n,e.textContent);e[t](o)}));break;default:this.forEach((function(e,r,o){e[t].apply(e,n(i.flatMap((function(e){return c(e,t,r===o.length-1)}))))}))}return this}}function f(t){return function(r){var n=this;switch(e(r)){case"function":this.forEach((function(e,o){var i=r.call(n,o,e[t]);e[t]=a(i,t)}));break;default:this.forEach((function(e){e[t]=a(r,t)}))}return this}}var u=s("after"),l=s("before"),p=s("append"),h=s("prepend"),d=f("innerHTML"),y=f("textContent"),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return n(document.querySelectorAll(t))},r={appendTo:"append",prependTo:"prepend",insertAfter:"after",insertBefore:"before"}[t]||"append";return function(t){var o=r+"To";return this.forEach((function(i,a,s){"string"==typeof t&&"<"!==t.charAt(0)&&(t=e(t)),t=Array.isArray(t)?t:[t],i[r].apply(i,n(t.flatMap((function(t){return c(t,o,a===s.length-1)}))))})),this}},b=function(){return this.map((function(t){return t.cloneNode(!0)}))},v=function(){this.forEach((function(t){t.textContent=""}))},g=function(t){return t?this.forEach((function(e){e.matches(t)&&e.remove()})):this.forEach((function(t){t.remove()})),this},E=function(t,n){var o=this;if(void 0===n)switch(e(t)){case"string":return this[0].hasAttribute(t)?this[0].getAttribute(t):void 0;case"object":if(t)return this.forEach((function(e,n){Object.entries(t).forEach((function(t){var n=r(t,2),o=n[0],i=n[1];e.setAttribute(o,i)}))})),this;default:throw new TypeError("Unexpected type for attribute name: "+e(t))}switch(e(n)){case"function":this.forEach((function(e,r){var i=n.call(o,r,e.getAttribute(n));null===i?e.removeAttribute(t):e.setAttribute(t,i)}));break;case"string":this.forEach((function(e,r){e.setAttribute(t,n)}));break;case"object":if(!n)return w.call(this,t);default:throw new TypeError("Unexpected type for attribute name: "+e(t))}return this},w=function(t){if("string"!=typeof t)throw new TypeError("Unexpected type for attribute name: "+e(t));this.forEach((function(e){e.removeAttribute(t)}))};function A(t){return function(r){var o=this;switch(e(r)){case"function":this.forEach((function(e,i){var a,c=r.call(o,i,e.className);(a=e.classList)[t].apply(a,n(c.split(" ")))}));break;default:if("remove"===t&&!r){this.forEach((function(t){t.className=""}));break}this.forEach((function(e){var o;(o=e.classList)[t].apply(o,n(r.split(" ")))}))}return this}}var C=A("add"),T=A("remove"),x=function(t){return this.some((function(e){return e.classList.contains(t)}))},j=function(t,r){var o=this;switch("undefined"==typeof cbOrContent?"undefined":e(cbOrContent)){case"function":"boolean"==typeof r?this.forEach((function(e,i){var a,c=t.call(o,i,e.className,r);(a=e.classList).toggle.apply(a,n(c.split(" ")).concat([r]))})):this.forEach((function(e,i){var a,c=t.call(o,i,e.className,r);(a=e.classList).toggle.apply(a,n(c.split(" ")))}));break;case"string":"boolean"==typeof r?this.forEach((function(e){var o;(o=e.classList).toggle.apply(o,n(t.split(" ")).concat([r]))})):this.forEach((function(e){var r;(r=e.classList).toggle.apply(r,n(t.split(" ")))}))}},S={after:u,before:l,append:p,prepend:h,html:d,text:y,clone:b,empty:v,remove:g,attr:E,removeAttr:w,addClass:C,hasClass:x,removeClass:T,toggleClass:j};t.addClass=C,t.after=u,t.append=p,t.attr=E,t.before=l,t.clone=b,t.empty=v,t.hasClass=x,t.html=d,t.insertTo=m,t.manipulation=function(t,e){return["after","before","append","prepend","html","text","clone","empty","remove","attr","removeAttr","addClass","hasClass","removeClass","toggleClass"].forEach((function(e){t.extend(e,S[e])})),["appendTo","prependTo","insertAfter","insertBefore"].forEach((function(e){t.extend(e,m(e,t))})),e&&t.extend("jml",(function(){for(var t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];this.forEach((function(r){for(;r.hasChildNodes();)r.firstChild.remove();var o=e.apply(void 0,n);return p.call(t,o)}))})),t},t.prepend=h,t.remove=g,t.removeAttr=w,t.removeClass=T,t.text=y,t.toggleClass=j,Object.defineProperty(t,"__esModule",{value:!0})}));
