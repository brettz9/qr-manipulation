function convertToString(t,e){switch(typeof e){case"object":if(!e)throw new TypeError("Cannot supply `null`");switch(e.nodeType){case 1:return e.outerHTML;case 3:return e.nodeValue;case 11:return[...e.childNodes].reduce((e,n)=>e+convertToString(t,n),"")}return;case"string":return e;default:throw new TypeError("Bad content for "+t+"; type: "+typeof e)}}function convertToDOM(t,e,n){switch(typeof e){case"object":if(!e)throw new TypeError("Cannot supply `null`");return[1,3,11].includes(e.nodeType)?n?e:e.cloneNode(!0):void 0;case"string":{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild||t.firstChild}default:throw new TypeError("Bad content for "+t+"; type: "+typeof e)}}function insert(t){return function(...e){const[n]=e;switch(typeof n){case"function":this.forEach((e,s)=>{const r=n.call(this,s,e.textContent);e[t](r)});break;default:this.forEach(n=>{n[t](...e.map((n,s)=>convertToDOM(t,n,s===e.length-1)))})}return this}}function insertText(t){return function(e){switch(typeof e){case"function":this.forEach((n,s)=>{const r=e.call(this,s,n[t]);n[t]=convertToString(t,r)});break;default:this.forEach(n=>{n[t]=convertToString(t,e)})}return this}}const after=insert("after"),before=insert("before"),append=insert("append"),prepend=insert("prepend"),html=insertText("innerHTML"),text=insertText("textContent");function classManipulation(t){return function(e){switch(typeof e){case"function":this.forEach((n,s)=>{const r=e.call(this,s,n.className);n.classList[t](...r.split(" "))});break;default:if("remove"===t&&!e){this.forEach(t=>{t.className=""});break}this.forEach(n=>{n.classList[t](...e.split(" "))})}return this}}const addClass=classManipulation("add"),removeClass=classManipulation("remove"),hasClass=function(t){return this.some(e=>e.classList.contains(t))},toggleClass=function(t,e){switch(typeof cbOrContent){case"function":"boolean"==typeof e?this.forEach((n,s)=>{const r=t.call(this,s,n.className,e);n.classList.toggle(...r.split(" "),e)}):this.forEach((n,s)=>{const r=t.call(this,s,n.className,e);n.classList.toggle(...r.split(" "))});break;case"string":"boolean"==typeof e?this.forEach(n=>{n.classList.toggle(...t.split(" "),e)}):this.forEach(e=>{e.classList.toggle(...t.split(" "))})}},methods={after:after,before:before,append:append,prepend:prepend,html:html,text:text},manipulation=function(t,e){return["after","before","append","prepend","html","text"].forEach(e=>{t.extend(e,methods[e])}),e&&t.extend("jml",function(...t){this.forEach(n=>{for(;n.hasChildNodes();)n.firstChild.remove();const s=e(...t);return append.call(this,s)})}),t};export{after,before,append,prepend,html,text,addClass,removeClass,hasClass,toggleClass,manipulation};
